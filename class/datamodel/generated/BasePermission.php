<?php

/**
 * BasePermission
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @property string $sourceType
 * @property integer $sourceId
 * @property string $action
 * @property string $targetId
 * @property Package $Package
 *
 * @package    IBWUpdater
 * @subpackage Datamodel
 * @author     RenÃ© Adler <rene.adler@tu-ilmenau.de>
 * @version    $Revision$
 */
abstract class BasePermission extends Doctrine_Record
{
	public function setTableDefinition()
	{
		$this->setTableName('Permission');
		$this->option('collate', 'utf8_unicode_ci');
		$this->option('charset', 'utf8');

		$this->hasColumn('sourceType', 'string', 1, array(
				'type' => 'string',
				'length' => 1,
				'fixed' => true,
				'unsigned' => false,
				'primary' => true,
				'autoincrement' => false,
		));
		$this->hasColumn('sourceId', 'integer', 4, array(
				'type' => 'integer',
				'length' => 4,
				'fixed' => false,
				'unsigned' => false,
				'primary' => true,
				'notnull' => true,
				'autoincrement' => false,
		));
		$this->hasColumn('action', 'string', 1, array(
				'type' => 'string',
				'length' => 1,
				'fixed' => true,
				'unsigned' => false,
				'primary' => true,
				'default' => '',
				'notnull' => true,
				'autoincrement' => false,
		));
		$this->hasColumn('targetId', 'string', 64, array(
				'type' => 'string',
				'length' => 64,
				'fixed' => false,
				'unsigned' => false,
				'primary' => true,
				'default' => '',
				'notnull' => true,
				'autoincrement' => false,
		));
	}

	public function setUp()
	{
		parent::setUp();
		$this->hasOne('Package', array(
				'local' => 'targetId',
				'foreign' => 'id',
				'onDelete' => 'CASCADE'));
	}
}